name: superagi-serve
gpu_type_id: "A10"
container_disk_in_gb: 10
volume_in_gb: 10
image_name: "python:3.10"

ports:
  - port: 3000
    expose: true

env:
  OPENAI_API_KEY: "${{ secrets.OPENAI_API_KEY }}"

start_command: |
  apt update && \
  apt install -y git python3-pip ffmpeg && \
  git clone https://github.com/TransformerOptimus/SuperAGI.git && \
  cd SuperAGI && \
  pip install --upgrade pip && pip install -r requirements.txt && \
  cp config_template.yaml config.yaml && \
  uvicorn main:app --host 0.0.0.0 --port 3000
